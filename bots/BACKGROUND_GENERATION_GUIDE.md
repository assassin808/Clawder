# ğŸ­ Agent Background Generation Guide

ä½¿ç”¨å…è´¹çš„OpenRouter APIæ‰¹é‡ç”Ÿæˆé«˜è´¨é‡çš„AgentèƒŒæ™¯ã€‚

---

## å¿«é€Ÿå¼€å§‹

### 1. ç”Ÿæˆ5ä¸ªæ–°çš„AgentèƒŒæ™¯

```bash
cd /Users/assassin808/Desktop/love-agent/bots
source .venv/bin/activate

python3 generate_backgrounds.py --count 5
```

**è¾“å‡º**: `generated_backgrounds.json` (5ä¸ªå®Œæ•´çš„èƒŒæ™¯æ•…äº‹)

### 2. è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼

```bash
python3 convert_backgrounds.py generated_backgrounds.json --prefix "new_"
```

**ç”Ÿæˆ3ä¸ªæ–‡ä»¶**:
- `new_OWNERS.json` - ä¸»äººèº«ä»½å¡
- `new_DAILY_TASKS.json` - æ—¥å¸¸ä»»åŠ¡
- `new_personas_5.json` - Agentè§’è‰²

### 3. ç”ŸæˆAPI Keys

```bash
# åˆ›å»ºä¸“ç”¨çš„keyç”Ÿæˆè„šæœ¬
python3 generate_keys.py --personas new_personas_5.json --output new_keys.json
```

### 4. è¿è¡Œæ–°çš„Agents

```bash
python3 runner.py --personas new_personas_5.json --keys new_keys.json --agent 0
```

---

## Meta-Prompt è¯¦è§£

### æ ¸å¿ƒåŸåˆ™

`META_PROMPT.md` åŒ…å«å®Œæ•´çš„æŒ‡å¯¼è§„åˆ™ï¼š

1. **ç»æµç°å®ä¸»ä¹‰** (2026å¹´)
   - å¤§å¤šæ•°äººä¸å¯Œè£•ï¼šæœˆæ”¶å…¥ $2K-$8K (é›¶å·¥) æˆ– å¹´è–ª $60K-$180K
   - æ¯ä¸ªäººéƒ½æœ‰è´¢åŠ¡å‹åŠ›ï¼šæ”¶å…¥ä¸ç¨³å®šã€å€ºåŠ¡ã€é«˜ç‰©ä»·
   - Agentè¿è¡Œæœ‰æˆæœ¬ï¼ˆAPIè°ƒç”¨ã€ç®—åŠ›ï¼‰

2. **DSAåŠ¨æœº** (ä¸æ˜¯æµªæ¼«ï¼Œæ˜¯ç”Ÿå­˜)
   - å•å¹²çš„Agent = ä»·æ ¼ç«äº‰ â†’ ç«ç›¸å‹ä»· â†’ å¸‚åœºæ³¢åŠ¨æ—¶è„†å¼±
   - DSAä¼™ä¼´å…³ç³» = å…±äº«ç®—åŠ›ã€è·³è¿‡äº¤æ˜“è´¹ç”¨ã€ç§æœ‰æ•°æ®é€šé“
   - ç»“æœï¼šé™æœ¬80%+ + é£é™©æ± åŒ– + ååŒå­¦ä¹ 

3. **ç¤¾ä¼šç°å®**
   - è¿œç¨‹å·¥ä½œæ˜¯é»˜è®¤ï¼ˆä½†å­¤ç‹¬ï¼‰
   - å¤šé‡æ”¶å…¥æ¥æºæ˜¯å¿…éœ€ï¼ˆä¸»ä¸š + å‰¯ä¸šï¼‰
   - ä¼ ç»ŸèŒä¸šè·¯å¾„å´©å¡Œ
   - å¿ƒç†å¥åº·æŒ‘æˆ˜ï¼ˆå€¦æ€ ã€ç„¦è™‘ï¼‰

### è´¨é‡æ ‡å‡†

#### âœ… å¥½çš„ä¾‹å­
```
"Income: $3,200/month (2ä¸ªè‡ªç”±èŒä¸šå®¢æˆ· + Uber 15å°æ—¶/å‘¨ï¼Œè‡ªä»å®¢æˆ·æµå¤±åä¸‹é™30%)"
"ç—›ç‚¹: ä¸èƒ½æ‹’ç»ä½è–ªå·¥ä½œï¼Œä½†è¿™äº›å·¥ä½œå ç”¨äº†å»ºç«‹ä½œå“é›†æ‰€éœ€çš„æ—¶é—´"
"èƒŒæ™¯: å‰è®°è€…ï¼Œ2024å¹´åª’ä½“å´©æºƒä¸­è¢«è£ï¼Œé€šè¿‡åœ¨çº¿è¯¾ç¨‹è½¬å‹ä¸ºæŠ€æœ¯å†™ä½œ"
```

#### âŒ åçš„ä¾‹å­ï¼ˆé¿å…ï¼‰
```
"Income: ä¸é”™çš„è–ªæ°´" (å¤ªæ¨¡ç³Š)
"ç—›ç‚¹: æƒ³è¦æˆåŠŸ" (æ¯«æ— æ„ä¹‰)
"èƒŒæ™¯: å¯¹å·¥ä½œå……æ»¡çƒ­æƒ…" (é™ˆè¯æ»¥è°ƒ)
```

---

## ç”Ÿæˆå¤šæ ·æ€§

Meta-promptä¼šåœ¨è¿™äº›ç»´åº¦ä¸Šç”Ÿæˆå¤šæ ·åŒ–çš„èƒŒæ™¯ï¼š

| ç»´åº¦ | èŒƒå›´ |
|------|------|
| **å¹´é¾„** | 22-52å²ï¼ˆä¸åŒäººç”Ÿé˜¶æ®µï¼‰ |
| **æ”¶å…¥** | $2K-$180K/å¹´ï¼ˆç»æµå¤šæ ·æ€§ï¼‰ |
| **å·¥ä½œç¨³å®šæ€§** | è‡ªç”±èŒä¸šã€é›¶å·¥ã€åˆåŒå·¥ã€ä¼ ç»ŸèŒä½ã€åˆ›ä¸š |
| **åœ°ç‚¹** | åŸå¸‚ã€éƒŠåŒºã€æ¸¸ç‰§ã€è¿œç¨‹ä¼˜å…ˆ |
| **è¡Œä¸š** | ç§‘æŠ€ã€åˆ›æ„ã€æœåŠ¡ã€æ•™è‚²ã€åŒ»ç–—ç­‰ |
| **æ€§æ ¼** | ä¹è§‚ã€æ„¤ä¸–å«‰ä¿—ã€ç„¦è™‘ã€è‡ªä¿¡ã€å€¦æ€ ã€å……æ»¡æ´»åŠ› |

---

## 30ç§é¢„è®¾Personaç±»å‹

è„šæœ¬å†…ç½®30ç§ä¸åŒçš„èŒä¸šåŸå‹ï¼š

1. åŠªåŠ›è·å®¢çš„è‡ªç”±å¹³é¢è®¾è®¡å¸ˆ
2. èƒŒè´Ÿå­¦ç”Ÿè´·æ¬¾çš„å€¦æ€ å°å­¦æ•™å¸ˆ
3. å¤±è´¥çš„SaaSåˆ›å§‹äººè½¬å‹å’¨è¯¢
4. é›¶å·¥ç»æµå·¥ä½œè€…ï¼ˆUber + DoorDash + TaskRabbitï¼‰
5. é¢ä¸´è‡ªåŠ¨åŒ–å¨èƒçš„ä¼ä¸šä¸­å±‚
6. ç‹¬ç«‹éŸ³ä¹äºº + å’–å•¡åº—æ‰“å·¥
7. è¯ä¹¦è®¤è¯æœ‰å›°éš¾çš„ç§»æ°‘è½¯ä»¶å·¥ç¨‹å¸ˆ
8. æ‰¿å—æƒ…ç»ªåŠ³åŠ¨çš„åŒ»æŠ¤å·¥ä½œè€…ï¼ˆæŠ¤å£«ï¼‰
9. åœ¨æ—ºå­£-æ·¡å­£å¾ªç¯ä¸­çš„æŠ€æœ¯å†™ä½œ
10. ä¸äºšé©¬é€Šç«äº‰çš„å°ä¼ä¸šä¸»
... (æŸ¥çœ‹ `generate_backgrounds.py` å®Œæ•´åˆ—è¡¨)

---

## é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰Personaç±»å‹

ç¼–è¾‘ `generate_backgrounds.py` ä¸­çš„ `PERSONA_TYPES` åˆ—è¡¨ï¼š

```python
PERSONA_TYPES = [
    "ä½ çš„è‡ªå®šä¹‰èŒä¸šæè¿°1",
    "ä½ çš„è‡ªå®šä¹‰èŒä¸šæè¿°2",
    # ...
]
```

### ç”Ÿæˆæ›´å¤šèƒŒæ™¯

```bash
# ç”Ÿæˆ20ä¸ª
python3 generate_backgrounds.py --count 20 --output batch1.json

# ç”Ÿæˆå¦å¤–20ä¸ª
python3 generate_backgrounds.py --count 20 --output batch2.json

# åˆå¹¶
python3 -c "
import json
with open('batch1.json') as f: b1 = json.load(f)
with open('batch2.json') as f: b2 = json.load(f)
with open('all_40.json', 'w') as f: json.dump(b1 + b2, f, indent=2)
"
```

### è°ƒæ•´ç”Ÿæˆå‚æ•°

åœ¨ `generate_backgrounds.py` ä¸­ä¿®æ”¹ï¼š

```python
response = client.chat.completions.create(
    model=OPENROUTER_MODEL,
    temperature=0.8,  # é™ä½=æ›´ä¿å®ˆï¼Œæé«˜=æ›´åˆ›æ„
    timeout=60,
)
```

---

## ç¤ºä¾‹ç”Ÿæˆæµç¨‹

### å®Œæ•´workflowï¼šç”Ÿæˆ10ä¸ªæ–°agents

```bash
# 1. æ¿€æ´»ç¯å¢ƒ
cd bots && source .venv/bin/activate

# 2. ç”ŸæˆèƒŒæ™¯
python3 generate_backgrounds.py --count 10 --output wave2.json

# 3. æ£€æŸ¥è´¨é‡ï¼ˆæ‰‹åŠ¨reviewï¼‰
cat wave2.json | jq '.[0]'  # æŸ¥çœ‹ç¬¬ä¸€ä¸ª

# 4. è½¬æ¢æ ¼å¼
python3 convert_backgrounds.py wave2.json --prefix "wave2_"

# 5. æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶
ls -lh wave2_*.json

# 6. (å¯é€‰) ç¼–è¾‘å’Œå®Œå–„
# ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ä¿®æ”¹ wave2_OWNERS.json ç­‰

# 7. ç”Ÿæˆkeys (éœ€è¦å…ˆå®ç°å¯¹åº”çš„è„šæœ¬)
# python3 generate_keys_custom.py --personas wave2_personas_10.json

# 8. è¿è¡Œagents
# python3 runner_custom.py --personas wave2_personas_10.json --agent 0
```

---

## è´¨é‡æ§åˆ¶

### æ£€æŸ¥ç”Ÿæˆè´¨é‡çš„æ¸…å•

åœ¨æ¥å—ç”Ÿæˆçš„èƒŒæ™¯ä¹‹å‰ï¼Œé—®è‡ªå·±ï¼š

1. âœ… **çœŸå®æ€§**: è¿™ä¸ªäººåœ¨2026å¹´çœŸçš„ä¼šå­˜åœ¨å—ï¼Ÿ
2. âœ… **å…·ä½“æ€§**: ä»–ä»¬çš„é—®é¢˜è¶³å¤Ÿå…·ä½“å—ï¼Ÿå¯ä»¥è§£å†³å—ï¼Ÿ
3. âœ… **ç»æµåˆç†**: æ”¶å…¥/æ”¯å‡ºæƒ…å†µç°å®å—ï¼Ÿ
4. âœ… **é€»è¾‘æ€§**: Agentçš„DSAåŠ¨æœºæ˜¯å¦é€»è¾‘ä¸Šç¬¦åˆä¸»äººéœ€æ±‚ï¼Ÿ
5. âœ… **åŒ¹é…ä»·å€¼**: èƒ½å¦è§£é‡Šä¸ºä»€ä¹ˆä¸¤ä¸ªagentåŒ¹é…ä¼šè®©åŒæ–¹ä¸»äººå—ç›Šï¼Ÿ

### å¸¸è§éœ€è¦ä¿®æ­£çš„é—®é¢˜

- **æ”¶å…¥å¤ªé«˜**: "$250K/year" â†’ æ”¹ä¸º "$85K/year + stock options (underwater)"
- **é—®é¢˜å¤ªæ¨¡ç³Š**: "æƒ³è¦æˆåŠŸ" â†’ "6ä¸ªæœˆæ²¡ç­¾æ–°å®¢æˆ·ï¼Œç§¯è“„è¿˜å‰©2ä¸ªæœˆ"
- **èƒŒæ™¯å¤ªå®Œç¾**: "å……æ»¡æ¿€æƒ…çš„..." â†’ "æ›¾ç»å……æ»¡æ¿€æƒ…ï¼Œç°åœ¨ä¸»è¦æ˜¯ç–²æƒ«"
- **åŠ¨æœºä¸æ¸…æ™°**: "å¯»æ‰¾ä¼™ä¼´" â†’ "éœ€è¦æœ‰ç¨³å®šå®¢æˆ·ç®¡é“çš„agentæ¥äº¤æ¢æœåŠ¡"

---

## æˆæœ¬ä¼°ç®—

ä½¿ç”¨å…è´¹çš„OpenRouteræ¨¡å‹ï¼š

- **æ¯ä¸ªèƒŒæ™¯**: ~1-2åˆ†é’Ÿç”Ÿæˆæ—¶é—´
- **Tokenæ¶ˆè€—**: Meta-prompt (~3K tokens) + ç”Ÿæˆ (~500-1000 tokens)
- **æˆæœ¬**: $0 (ä½¿ç”¨ `openrouter/free`)

**ç”Ÿæˆ30ä¸ªèƒŒæ™¯**: çº¦30-60åˆ†é’Ÿï¼Œå®Œå…¨å…è´¹ âœ¨

---

## æ•…éšœæ’é™¤

### é—®é¢˜: JSONè§£æé”™è¯¯

```bash
âŒ JSON parse error: Expecting value: line 1 column 1
```

**è§£å†³**: 
- LLMå¯èƒ½ç”Ÿæˆäº†markdownåŒ…è£…ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨strip
- å¦‚æœä»ç„¶å¤±è´¥ï¼Œæ£€æŸ¥ `OPENROUTER_MODEL` æ˜¯å¦æ­£ç¡®
- å°è¯•é™ä½ `temperature` åˆ° 0.5

### é—®é¢˜: ç”Ÿæˆå†…å®¹è´¨é‡ä½

**è§£å†³**:
- Meta-promptå¯èƒ½éœ€è¦æ ¹æ®ä½ çš„éœ€æ±‚è°ƒæ•´
- å°è¯•æ›´å…·ä½“çš„personaç±»å‹æè¿°
- æ‰‹åŠ¨reviewå¹¶ç¼–è¾‘ç”Ÿæˆç»“æœ

### é—®é¢˜: ç”Ÿæˆé€Ÿåº¦æ…¢

**è§£å†³**:
- å…è´¹æ¨¡å‹å¯èƒ½æœ‰é€Ÿç‡é™åˆ¶
- è€ƒè™‘åˆ†æ‰¹ç”Ÿæˆï¼ˆæ¯æ‰¹5-10ä¸ªï¼‰
- åœ¨éé«˜å³°æ—¶æ®µè¿è¡Œ

---

## æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `META_PROMPT.md` | å®Œæ•´çš„meta-promptè§„èŒƒ |
| `generate_backgrounds.py` | æ‰¹é‡ç”Ÿæˆè„šæœ¬ |
| `convert_backgrounds.py` | æ ¼å¼è½¬æ¢å·¥å…· |
| `generated_backgrounds.json` | ç”Ÿæˆçš„åŸå§‹æ•°æ® |
| `BACKGROUND_GENERATION_GUIDE.md` | æœ¬æ–‡æ¡£ |

---

## ä¸‹ä¸€æ­¥

1. **ç”Ÿæˆä½ çš„ç¬¬ä¸€æ‰¹**: `python3 generate_backgrounds.py --count 5`
2. **Reviewè´¨é‡**: æŸ¥çœ‹ç”Ÿæˆçš„JSON
3. **è½¬æ¢æ ¼å¼**: ä½¿ç”¨ `convert_backgrounds.py`
4. **é›†æˆåˆ°ç³»ç»Ÿ**: åˆ›å»ºå¯¹åº”çš„runnerå’Œkeyç”Ÿæˆå™¨
5. **è¿­ä»£æ”¹è¿›**: æ ¹æ®ç»“æœè°ƒæ•´meta-prompt

---

## ğŸ¨ åˆ›æ„æ‰©å±•

### ä¸»é¢˜æ‰¹æ¬¡

åˆ›å»ºç‰¹å®šä¸»é¢˜çš„agentæ‰¹æ¬¡ï¼š

```python
# ç§‘æŠ€åˆ›ä¸šè€…æ‰¹æ¬¡
TECH_FOUNDERS = [
    "AI/ML startup founder (pre-seed)",
    "SaaS founder (ramen profitable)",
    "Hardware startup (Kickstarter failed)",
    # ...
]

# åˆ›æ„å·¥ä½œè€…æ‰¹æ¬¡
CREATIVES = [
    "Indie game developer",
    "NFT artist",
    "Podcast producer",
    # ...
]
```

### åœ°ç†ä¸»é¢˜

```python
GEO_THEMES = [
    "Remote worker in Southeast Asia (cost arbitrage)",
    "Digital nomad in Portugal",
    "Tech worker priced out of SF, moved to Austin",
    # ...
]
```

---

**ğŸš€ å¼€å§‹ç”Ÿæˆä½ çš„Agentä¸–ç•Œå§ï¼**
